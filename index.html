<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Suraj’s 17th — F1 Birthday</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800;900&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- Optional Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>

  <style>
    :root{
      --black:#06090c;
      --teal:#00A19B;  /* Petronas teal */
      --neon:#39FF14;  /* neon green accent */
      --silver:#C0C0C0;
      --glow: 0 0 14px rgba(0,161,155,0.6), 0 0 28px rgba(57,255,20,0.35);
    }

    *{box-sizing:border-box}
    html,body{height:100%; margin:0; background:var(--black); color:#e8f3ef; overflow-x:hidden; font-smooth: antialiased;}

    /* Animated background gradient */
    body::before{
      content:"";
      position:fixed; inset:0; z-index:-3;
      background:
        radial-gradient(1200px 800px at 12% 18%, rgba(0,161,155,0.16), transparent 60%),
        radial-gradient(1000px 700px at 88% 82%, rgba(57,255,20,0.10), transparent 60%),
        linear-gradient(135deg, #070b0f 0%, #081017 46%, #0a141b 100%);
      animation:bgShift 18s ease-in-out infinite alternate;
    }
    @keyframes bgShift{
      0%{filter:hue-rotate(0deg) brightness(1)}
      100%{filter:hue-rotate(-12deg) brightness(1.05)}
    }

    /* Subtle particles */
    .particles{
      position:fixed; inset:0; pointer-events:none; z-index:-2;
      background-image:
        radial-gradient(1.6px 1.6px at 14% 22%, rgba(192,192,192,0.28), transparent),
        radial-gradient(1.6px 1.6px at 70% 74%, rgba(0,161,155,0.25), transparent),
        radial-gradient(1.6px 1.6px at 86% 18%, rgba(57,255,20,0.3), transparent),
        radial-gradient(1.6px 1.6px at 32% 86%, rgba(255,255,255,0.18), transparent);
      animation: drift 26s linear infinite;
    }
    @keyframes drift{
      0%{transform:translateY(0)}
      100%{transform:translateY(-70px)}
    }

    /* Splash Screen (cinematic F1 pass) */
    .splash{
      position:fixed; inset:0; background:radial-gradient(1200px 800px at 50% 70%, #0b1218, #06090c 70%);
      display:grid; place-items:center; overflow:hidden; z-index:9999;
      perspective:1200px;
      transform-style: preserve-3d;
    }

    /* Container with cinematic camera effects */
    .parallax{
      position:absolute; inset:0; transform-style:preserve-3d;
      animation: camTiltZoom 3.7s ease-in-out forwards;
    }
    @keyframes camTiltZoom{
      0%{
        transform: translateZ(0) rotateX(3deg) scale(1);
      }
      40%{
        transform: translateZ(0) rotateX(8deg) scale(1.05);
      }
      70%{
        transform: translateZ(0) rotateX(2deg) scale(1.02);
      }
      90%{
        transform: translateZ(0) rotateX(0deg) scale(1);
      }
      100%{
        transform: translateZ(0) rotateX(0deg) scale(1);
        opacity: 1;
      }
    }

    /* Track floor grid */
    .speed-grid{
      position:absolute; left:-10vw; right:-10vw; bottom:-10vh; height:70vh;
      background:
        linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,161,155,0.08) 100%),
        repeating-linear-gradient(90deg, rgba(192,192,192,0.07) 0 2px, transparent 2px 90px),
        repeating-linear-gradient(0deg, rgba(192,192,192,0.05) 0 2px, transparent 2px 80px);
      transform-origin:center bottom;
      transform: rotateX(72deg) translateZ(-200px);
      filter: drop-shadow(0 0 16px rgba(0,161,155,0.28));
      animation: gridFlow 2.8s linear infinite;
      opacity:.55;
    }
    @keyframes gridFlow{
      from{ background-position:0 0, 0 0, 0 0 }
      to{ background-position:0 0, 600px 140px, 0 180px }
    }

    /* Horizontal speed streaks */
    .racing-streaks{
      position:absolute; inset:-10% -20%;
      background:
        linear-gradient(100deg, rgba(0,161,155,0) 0%, rgba(0,161,155,0.22) 40%, rgba(0,161,155,0) 60%),
        linear-gradient(100deg, rgba(57,255,20,0) 20%, rgba(57,255,20,0.18) 48%, rgba(57,255,20,0) 70%);
      mix-blend-mode:screen;
      transform: translateZ(-200px) skewX(-10deg);
      animation: streakSlide 1.5s linear infinite;
      opacity:.6;
    }
    @keyframes streakSlide{
      from{ background-position:-40vw 0, -60vw 0 }
      to{ background-position:40vw 0, 60vw 0 }
    }

    /* F1 car wrapper (sleeker & lower, solid style) */
    .car-wrap{
      position:absolute; bottom:16%; left:-65vw;
      width:600px; height:136px;
      transform: translateZ(80px);
      animation: carRun 3.2s cubic-bezier(.18,.66,.24,1) forwards .3s;
      filter:
        drop-shadow(0 0 22px rgba(0,161,155,0.75))
        drop-shadow(0 0 30px rgba(57,255,20,0.45));
      will-change: transform;
    }
    @keyframes carRun{
      0%{ transform:translateZ(80px) translateX(0) scale(1) }
      50%{ transform:translateZ(80px) translateX(100vw) scale(1.06) }
      90%{ transform:translateZ(80px) translateX(140vw) scale(1.08) }
      100%{ transform:translateZ(80px) translateX(170vw) scale(1.1) }
    }

    /* F1 shape: nose, front wing, sidepods, rear wing, halo */
    .f1{ position:absolute; inset:0; }
    .nose{
      position:absolute; left:24px; top:44px; width:180px; height:22px;
      background: linear-gradient(90deg,#0a1117,#060910);
      border-radius:12px;
      box-shadow:
        inset 0 0 20px rgba(0,161,155,0.5),
        0 0 10px rgba(0,161,155,0.8);
      border: 2px solid var(--teal);
    }
    .front-wing{
      position:absolute; left:-14px; top:36px; width:220px; height:36px;
      background:
        linear-gradient(180deg, rgba(0,161,155,0.6), rgba(0,255,100,0.5)),
        linear-gradient(90deg, rgba(192,192,192,0.4), rgba(57,255,20,0.4));
      border-radius:8px;
      transform:skewX(-14deg);
      box-shadow:
        0 0 24px rgba(57,255,20,0.6),
        0 0 30px rgba(0,161,155,0.7);
      border: 1.5px solid var(--teal);
    }
    .front-flaps{
      position:absolute; left:0; top:28px; width:210px; height:7px;
      background: linear-gradient(90deg, rgba(57,255,20,0.75), rgba(0,161,155,0.5), rgba(57,255,20,0));
      filter:blur(3px);
    }
    .halo{
      position:absolute; left:182px; top:14px; width:124px; height:18px;
      border-radius:18px; background:linear-gradient(90deg, #12191f, #0b1116);
      box-shadow:
        0 0 18px rgba(57,255,20,0.45),
        inset 0 0 20px rgba(0,161,155,0.45);
      transform:skewX(-16deg);
      border: 2px solid var(--teal);
    }
    .cockpit{
      position:absolute; left:200px; top:32px; width:120px; height:36px;
      background: radial-gradient(80px 36px at 50% 40%, rgba(20,30,40,0.95) 40%, transparent 60%);
      border-radius:50px;
      box-shadow:
        inset 0 0 18px rgba(0,161,155,0.5),
        0 0 12px rgba(57,255,20,0.35);
      border: 2px solid rgba(0,161,155,0.6);
    }
    .sidepod{
      position:absolute; left:220px; top:62px; width:210px; height:34px;
      background:
        linear-gradient( to right,#071011 0 25%, #0e151c 25% 85%, #0b1117 85% 100%),
        linear-gradient(100deg, rgba(0,161,155,0.95) 0%, rgba(0,161,155,0.35) 60%, rgba(0,161,155,0) 100%);
      border-radius:40px;
      box-shadow:
        inset 0 0 30px rgba(0,161,155,0.35),
        inset 0 0 42px rgba(57,255,20,0.25);
      border: 1.5px solid var(--teal);
    }
    .floor{
      position:absolute; left:100px; right:20px; bottom:16px; height:8px;
      background:linear-gradient(90deg, rgba(0,161,155,0.6), rgba(57,255,20,0.3), rgba(0,161,155,0.0));
      filter:blur(6px);
      border-radius: 0 0 12px 12px;
    }
    .rear-wing{
      position:absolute; right:-18px; top:28px; width:92px; height:54px;
      background:
        linear-gradient(180deg, rgba(57,255,20,0.65), rgba(0,161,155,0.35));
      border-radius:8px;
      box-shadow:
        0 0 22px rgba(0,161,155,0.65),
        inset 0 0 20px rgba(57,255,20,0.45);
      border: 1.5px solid var(--neon);
    }
    .drs{
      position:absolute; right:-18px; top:22px; width:100px; height:8px;
      background:linear-gradient(90deg, rgba(57,255,20,0.85), rgba(0,161,155,0.4), rgba(57,255,20,0));
      filter:blur(5px);
      animation: drsFlick 0.5s ease-in-out infinite;
      opacity:.95;
      border-radius: 6px;
    }
    @keyframes drsFlick{
      0%,100%{ transform:translateY(0) }
      50%{ transform:translateY(2px) }
    }

    /* Wheels */
    .wheel{
      position:absolute; width:86px; height:86px; border-radius:50%;
      bottom:-18px; background:#080b0f; border:4px solid #0f1720;
      box-shadow:
        inset 0 0 24px rgba(0,161,155,0.45),
        0 0 18px rgba(57,255,20,0.55);
      overflow:hidden;
    }
    .wheel.front{ left:376px }
    .wheel.back{ left:116px }
    .wheel::before{
      content:""; position:absolute; inset:10px; border-radius:50%;
      border:3px solid rgba(57,255,20,0.9); filter:blur(.4px);
      animation: spin .34s linear infinite;
    }
    .wheel::after{
      content:""; position:absolute; inset:18px; border-radius:50%;
      box-shadow: inset 0 0 36px rgba(0,161,155,0.55);
    }
    @keyframes spin{ to{transform:rotate(360deg)} }

    /* Smoke, sparks, turbo flames */
    .smoke{
      position:absolute; left:112px; bottom:-24px; width:180px; height:110px; pointer-events:none;
      background:
        radial-gradient(120px 60px at 20% 60%, rgba(255,255,255,0.1), transparent 60%),
        radial-gradient(90px 50px at 40% 40%, rgba(255,255,255,0.11), transparent 60%),
        radial-gradient(80px 50px at 62% 70%, rgba(0,161,155,0.16), transparent 62%);
      filter: blur(10px);
      animation: smokeDrift 1.2s ease-out infinite;
      opacity:.95;
    }
    .smoke.front{ left:362px; bottom:-22px; width:170px; animation-delay:.1s; }
    @keyframes smokeDrift{
      0%{ transform:translate(0,0) scale(1); opacity:.95 }
      100%{ transform:translate(60px,-36px) scale(1.25); opacity:.0 }
    }
    .sparks{
      position:absolute; left:140px; bottom:-8px; width:120px; height:12px;
      background: radial-gradient(50% 100% at 0% 50%, rgba(255,220,150,0.85), rgba(255,140,40,0.0));
      filter: blur(4px);
      animation: sparks 0.2s linear infinite;
      opacity:.75;
    }
    .sparks.front{ left:390px; }
    @keyframes sparks{
      0%{ transform:translateX(0) scaleX(1) }
      100%{ transform:translateX(-40px) scaleX(1.4) }
    }
    .flame{
      position:absolute; left:300px; top:120px; width:54px; height:22px;
      background: radial-gradient(60% 100% at 0% 50%, rgba(57,255,20,0.9), rgba(0,161,155,0.0));
      filter: blur(5px);
      animation: flame 0.3s linear infinite;
      opacity:.95;
      border-radius: 12px;
    }
    @keyframes flame{
      0%{ transform:translateX(0) scaleX(1) }
      100%{ transform:translateX(-30px) scaleX(1.4) }
    }

    /* Underglow */
    .underglow{
      position:absolute; left:30px; right:24px; bottom:-16px; height:18px;
      background: radial-gradient(60% 120% at 50% 0%, rgba(0,161,155,0.6), transparent 70%);
      filter: blur(14px);
      border-radius: 12px;
    }

    /* Motion blur line */
    .speed-trails{
      position:absolute; left:-140px; right:-120px; top:18px; height:80px; pointer-events:none;
      background:
        linear-gradient(90deg, rgba(0,161,155,0), rgba(0,161,155,0.38), rgba(0,161,155,0)),
        linear-gradient(90deg, rgba(57,255,20,0), rgba(57,255,20,0.3), rgba(57,255,20,0));
      filter: blur(10px);
      animation: trailPulse .42s linear infinite;
      opacity:.9;
    }
    @keyframes trailPulse{
      0%{ transform:translateX(0) }
      100%{ transform:translateX(-80px) }
    }

    /* Fade-out of splash */
    .splash.fade-out{ animation:fadeOut .9s ease forwards }
    @keyframes fadeOut{ to{ opacity:0; visibility:hidden } }

    /* Happy Birthday finish animation container */
    .hb-finish{
      position: fixed; inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: transparent;
      pointer-events: none;
      opacity: 0;
      animation: hbFadeIn 1s ease forwards;
      animation-delay: 3.2s;
      z-index: 10000;
      user-select: none;
      filter: drop-shadow(0 0 30px var(--neon));
    }
    @keyframes hbFadeIn {
      to {
        opacity: 1;
      }
    }

    /* Happy Birthday text with glowing shine */
    .hb-text {
      font-family: 'Orbitron', sans-serif;
      font-weight: 900;
      font-size: clamp(40px, 12vw, 120px);
      color: var(--neon);
      text-align: center;
      position: relative;
      letter-spacing: 2px;
      text-shadow:
        0 0 20px var(--neon),
        0 0 50px var(--teal),
        0 0 80px var(--neon);
      animation: shine 2s linear infinite;
    }
    @keyframes shine {
      0% { text-shadow:
        0 0 20px var(--neon);
      }
      50% { text-shadow:
        0 0 30px var(--neon),
        0 0 60px var(--teal),
        0 0 90px var(--neon);
      }
      100% { text-shadow:
        0 0 20px var(--neon);
      }
    }

    /* Main content container */
    .wrap{
      min-height:100vh; padding:96px 22px 80px;
      display:flex; flex-direction:column; align-items:center; gap:20px;
      opacity:0; transform:translateY(8px); transition:opacity .8s ease, transform .8s ease;
      z-index: 2;
      position: relative;
    }
    .wrap.visible{ opacity:1; transform:none }

    /* Title */
    .title{
      font-family:'Orbitron',system-ui; font-weight:900;
      font-size: clamp(28px, 6vw, 62px);
      text-align:center; letter-spacing:1.5px;
      color:#e9fffb;
      text-shadow: 0 0 8px rgba(0,161,155,0.7), 0 0 16px rgba(57,255,20,0.4);
      margin-top:6px; line-height:1.15;
    }
    .title .accent{ color:var(--teal) }
    .typing{
      border-right:2px solid var(--neon);
      white-space:nowrap; overflow:hidden; display:inline-block;
      animation: caret .8s steps(1) infinite;
    }
    @keyframes caret{ 50%{border-color:transparent} }

    /* Floating emojis */
    .float-emoji{
      position:fixed; font-size:24px; opacity:0.9; pointer-events:none;
      animation: bob 8s ease-in-out infinite;
      filter:drop-shadow(0 0 6px rgba(0,161,155,0.45));
    }
    @keyframes bob{
      0%,100%{ transform:translateY(0) }
      50%{ transform:translateY(-18px) }
    }

    /* Confetti/balloons canvas */
    #confetti, #balloons { position:fixed; inset:0; pointer-events:none; z-index:3; }

    /* Message card */
    .card{
      width:min(900px, 92vw);
      background: linear-gradient(180deg, rgba(15,22,28,0.9), rgba(10,15,20,0.85));
      border:1px solid rgba(192,192,192,0.25);
      box-shadow: 0 0 24px rgba(0,161,155,0.2), inset 0 0 24px rgba(0,161,155,0.08);
      backdrop-filter: blur(6px);
      border-radius:16px; padding:26px 22px 20px; position:relative;
    }
    .card::before{
      content:""; position:absolute; inset:1px; border-radius:14px;
      background:linear-gradient(120deg, rgba(0,161,155,0.15), rgba(57,255,20,0.07));
      mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite:xor; mask-composite:exclude;
      padding:1px;
    }
    .card h2{
      font-family:'Poppins',system-ui; font-size: clamp(18px, 2.3vw, 26px);
      margin:0 0 10px; color:#dbfffb; letter-spacing:0.5px;
      text-shadow:0 0 10px rgba(0,161,155,0.45);
    }
    .card p{
      font-family:'Poppins',system-ui; font-size: clamp(14px, 1.2vw, 18px);
      color:#d7e7e3; line-height:1.7; margin:0;
    }

    /* Carousel */
    .carousel{
      width:min(980px, 95vw);
      margin:18px auto 6px; position:relative;
      border-radius:16px; overflow:hidden;
      border:1px solid rgba(192,192,192,0.25);
      box-shadow: 0 10px 30px rgba(0,0,0,0.45), 0 0 26px rgba(0,161,155,0.18);
    }
    .carousel-track{ display:flex; transition: transform .6s cubic-bezier(.22,.61,.36,1); }
    .slide{
      min-width:100%; height:56vw; max-height:520px;
      background:#0e141a center/cover no-repeat; position:relative;
    }
    .slide::after{
      content:""; position:absolute; inset:0;
      background: radial-gradient(600px 200px at 50% 100%, rgba(0,161,155,0.2), transparent 60%);
      pointer-events:none;
    }
    .carousel .nav{
      position:absolute; top:50%; transform:translateY(-50%);
      width:44px; height:44px; border-radius:50%;
      display:grid; place-items:center; cursor:pointer; border:1px solid rgba(192,192,192,0.35);
      background:rgba(10,15,20,0.6); backdrop-filter: blur(6px);
      color:#dff; z-index:2; transition:.2s;
      box-shadow: 0 0 12px rgba(0,161,155,0.35);
    }
    .carousel .nav:hover{ transform:translateY(-50%) scale(1.06); box-shadow:0 0 16px rgba(57,255,20,0.35) }
    .nav.prev{ left:12px } .nav.next{ right:12px }
    .dots{ position:absolute; bottom:10px; width:100%; display:flex; gap:8px; justify-content:center; }
    .dot{
      width:9px; height:9px; border-radius:50%;
      background:rgba(192,192,192,0.35); cursor:pointer; border:1px solid rgba(0,161,155,0.5);
      transition:.2s;
    }
    .dot.active{ background:var(--teal); box-shadow:0 0 10px rgba(0,161,155,0.8) }

    /* Controls */
    .controls{
      width:min(980px,95vw);
      display:flex; align-items:center; justify-content:center; gap:14px;
      margin-top:4px; flex-wrap:wrap;
    }
    .button{
      appearance:none; border:none; cursor:pointer;
      padding:10px 14px; border-radius:12px; color:#eafffb; font-family:'Poppins',system-ui;
      background:linear-gradient(180deg, #0f171f, #0b1219);
      border:1px solid rgba(192,192,192,0.28);
      box-shadow:0 0 14px rgba(0,161,155,0.25), inset 0 0 16px rgba(0,161,155,0.08);
      transition:.2s;
    }
    .button:hover{ transform:translateY(-1px); box-shadow:0 0 18px rgba(57,255,20,0.28), inset 0 0 18px rgba(0,161,155,0.12) }

    /* Footer */
    footer{
      margin:34px 0 12px; text-align:center; font-family:'Orbitron',system-ui; color:#cfecea;
      letter-spacing:0.6px;
    }
    .from{
      display:inline-block; position:relative; padding-bottom:6px;
      text-shadow:0 0 10px rgba(0,161,155,0.4);
    }
    .from::after{
      content:""; position:absolute; left:50%; transform:translateX(-50%);
      bottom:0; width:90%; height:2px; border-radius:2px;
      background:linear-gradient(90deg, transparent, var(--teal), var(--neon), transparent);
      filter:drop-shadow(0 0 6px rgba(57,255,20,0.65));
      animation: underlineGlow 2.8s ease-in-out infinite;
    }
    @keyframes underlineGlow{ 0%,100%{opacity:0.6} 50%{opacity:1} }

    /* Responsive */
    @media (max-width:560px){
      .car-wrap{ width:450px; height:120px; bottom:28% }
      .wheel{ width:66px; height:66px; bottom:-24px }
      .wheel.front{ left:280px } .wheel.back{ left:90px }
    }
  </style>
</head>
<body>

  <!-- Splash Screen -->
  <div class="splash" id="splash" aria-hidden="true">
    <div class="parallax" id="parallax">
      <div class="speed-grid"></div>
      <div class="racing-streaks"></div>

      <!-- F1 Car (generic, no logo) -->
      <div class="car-wrap" id="carWrap">
        <div class="f1">
          <div class="front-wing"></div>
          <div class="front-flaps"></div>
          <div class="nose"></div>
          <div class="halo"></div>
          <div class="cockpit"></div>
          <div class="sidepod"></div>
          <div class="floor"></div>
          <div class="rear-wing"></div>
          <div class="drs"></div>

          <div class="wheel back"></div>
          <div class="wheel front"></div>

          <div class="smoke"></div>
          <div class="smoke front"></div>
          <div class="sparks"></div>
          <div class="sparks front"></div>
          <div class="flame"></div>
          <div class="underglow"></div>
          <div class="speed-trails"></div>
        </div>
      </div>
    </div>
    <div class="hb-finish" id="hbFinish" aria-hidden="true">
      <div class="hb-text">Happy 17th Birthday, Suraj!</div>
    </div>
  </div>

  <!-- Background particles -->
  <div class="particles"></div>

  <!-- Confetti and optional balloons canvases -->
  <canvas id="confetti"></canvas>
  <canvas id="balloons"></canvas>

  <!-- Floating emojis -->
  <div class="float-emoji" style="left:6%; top:22%">🎂</div>
  <div class="float-emoji" style="left:82%; top:28%; animation-delay:.6s">🏎️</div>
  <div class="float-emoji" style="left:14%; top:74%; animation-delay:1.1s">🎉</div>
  <div class="float-emoji" style="left:88%; top:68%; animation-delay:1.7s">✨</div>

  <!-- Main Content -->
  <main class="wrap" id="main" aria-hidden="true">
    <h1 class="title">
      <span class="typing" id="typing"></span>
      <span class="accent">, Suraj!</span>
    </h1>

    <!-- Controls -->
    <div class="controls">
      <button class="button" id="confettiBtn"><i class="fa-solid fa-wand-magic-sparkles"></i> Celebrate</button>
      <button class="button music-toggle" id="musicBtn">
        <i class="fa-solid fa-music"></i> Music: Off
      </button>
    </div>

    <!-- Heartfelt message card -->
    <section class="card" aria-label="Birthday Message">
      <h2>Happy 17th — Legendary</h2>
      <p>
        Suraj, welcome to another lap closer to greatness. May every corner you take be confident, every straight full-throttle,
        and every day filled with wins that light up your grid. Keep chasing speed, joy, and big dreams — have an epic 17th!
        Don't forget me ever, I LOVE YOU💘
      </p>
    </section>

    <!-- Photo / Memories Carousel (8 slides) -->
    <section class="carousel" aria-label="Memories Carousel">
      <div class="carousel-track" id="track">
        <!-- Replace with your own images -->
        <div class="slide" style="background-image:url(1.jpg)"></div>
        <div class="slide" style="background-image:url(2.jpg)"></div>
        <div class="slide" style="background-image:url(3.jpg)"></div>
        <div class="slide" style="background-image:url(4.jpg)"></div>
        <div class="slide" style="background-image:url(5.jpg)"></div>
        <div class="slide" style="background-image:url(6.jpg)"></div>
        <div class="slide" style="background-image:url(7.jpg)"></div>
        <div class="slide" style="background-image:url(8.jpg)"></div>
      </div>
      <button class="nav prev" id="prev" aria-label="Previous slide">
        <i class="fa-solid fa-chevron-left"></i>
      </button>
      <button class="nav next" id="next" aria-label="Next slide">
        <i class="fa-solid fa-chevron-right"></i>
      </button>
      <div class="dots" id="dots" aria-label="Slide indicators"></div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="from">From your asshu💘</div>
    </footer>
  </main>

  <!-- Optional audio -->
  <audio id="bgm" loop preload="auto">
    <!-- Set your audio file: <source src="music.mp3" type="audio/mpeg"> -->
  </audio>

  <script>
    const splash = document.getElementById('splash');
    const main = document.getElementById('main');
    const hbFinish = document.getElementById('hbFinish');
    const parallax = document.getElementById('parallax');
    const carWrap = document.getElementById('carWrap');
    const typingEl = document.getElementById('typing');
    const fullText = "Happy 17th Birthday";

    // Timing of splash and animations
    const SPLASH_DURATION = 4000;

    // Run typing effect
    let idx = 0;
    function typeNext(){
      typingEl.textContent = fullText.slice(0, idx++);
      if(idx <= fullText.length) setTimeout(typeNext, 70);
    }

    // Run splash animations with cinematic finish
    setTimeout(() => {
      // Animate car finishing movement: speed lines intensify and then fade out car
      parallax.style.animation = 'camTiltZoom 3.7s ease-in-out forwards';

      // After initial run (slightly longer than carRun), lower car opacity for smooth transition
      setTimeout(() => {
        carWrap.style.transition = 'opacity 0.9s ease';
        carWrap.style.opacity = '0';
      }, 2600);

      // Show the Happy Birthday finish text
      setTimeout(() => {
        hbFinish.style.opacity = '1';
        hbFinish.setAttribute('aria-hidden', 'false');
      }, 2900);

      // After text is visible, fade out splash and show main content
      setTimeout(() => {
        splash.classList.add('fade-out');
        main.setAttribute('aria-hidden', 'false');
        main.classList.add('visible');
      }, 3800);

    }, 50);

    // Start the typing a bit after splash fade
    setTimeout(typeNext, SPLASH_DURATION + 200);

    // Confetti engine
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    const DPR = Math.max(1, window.devicePixelRatio || 1);
    let confetti = [];

    function resizeCanvas(){
      confettiCanvas.width = Math.floor(window.innerWidth * DPR);
      confettiCanvas.height = Math.floor(window.innerHeight * DPR);
      ctx.setTransform(DPR,0,0,DPR,0,0);
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function burstConfetti(x, y, count=140){
      for(let i=0;i<count;i++){
        const angle = Math.random()*Math.PI*2;
        const speed = Math.random()*6 + 3;
        confetti.push({
          x, y,
          vx: Math.cos(angle)*speed,
          vy: Math.sin(angle)*speed,
          g: 0.15 + Math.random()*0.2,
          size: 3 + Math.random()*4,
          color: Math.random() < 0.5 ? '#00A19B' : '#39FF14',
          life: 60 + Math.random()*50,
          rot: Math.random()*Math.PI,
          vr: (Math.random()-0.5)*0.2
        });
      }
    }

    function tickConfetti(){
      ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
      confetti = confetti.filter(p => p.life > 0);
      confetti.forEach(p => {
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;
        p.life--;
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = p.color;
        ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size*0.6);
        ctx.restore();
      });
      requestAnimationFrame(tickConfetti);
    }
    tickConfetti();

    // Confetti button
    document.getElementById('confettiBtn').addEventListener('click', () => {
      burstConfetti(window.innerWidth/2, window.innerHeight*0.25, 160);
      burstConfetti(window.innerWidth*0.15, window.innerHeight*0.2, 90);
      burstConfetti(window.innerWidth*0.85, window.innerHeight*0.2, 90);
    });
    // Auto confetti after splash text appears
    setTimeout(() => burstConfetti(window.innerWidth/2, window.innerHeight*0.3, 220), 3800);

    // Balloons (subtle)
    const balloonsCanvas = document.getElementById('balloons');
    const bctx = balloonsCanvas.getContext('2d');

    function resizeBalloons(){
      balloonsCanvas.width = Math.floor(window.innerWidth * DPR);
      balloonsCanvas.height = Math.floor(window.innerHeight * DPR);
      bctx.setTransform(DPR,0,0,DPR,0,0);
    }
    window.addEventListener('resize', resizeBalloons);
    resizeBalloons();

    let balloons = Array.from({length: 10}).map(() => ({
      x: Math.random()*window.innerWidth,
      y: window.innerHeight + Math.random()*200,
      r: 8 + Math.random()*12,
      s: 0.4 + Math.random()*0.6,
      c: Math.random() < 0.5 ? 'rgba(0,161,155,0.35)' : 'rgba(57,255,20,0.28)'
    }));

    function drawBalloons(){
      bctx.clearRect(0,0,balloonsCanvas.width, balloonsCanvas.height);
      balloons.forEach(b => {
        b.y -= b.s;
        b.x += Math.sin(b.y*0.01)*0.3;
        if(b.y < -40){
          b.y = window.innerHeight + 40;
          b.x = Math.random()*window.innerWidth;
        }
        bctx.beginPath();
        bctx.fillStyle = b.c;
        bctx.arc(b.x, b.y, b.r, 0, Math.PI*2);
        bctx.fill();
      });
      requestAnimationFrame(drawBalloons);
    }
    drawBalloons();

    // Music toggle
    const musicBtn = document.getElementById('musicBtn');
    const bgm = document.getElementById('bgm');
    let musicOn = false;
    function updateMusicLabel(){
      musicBtn.innerHTML = (musicOn
        ? '<i class="fa-solid fa-music"></i> Music: On'
        : '<i class="fa-solid fa-music"></i> Music: Off');
    }
    musicBtn.addEventListener('click', async () => {
      try {
        if(!musicOn){
          await bgm.play();
          musicOn = true;
        } else {
          bgm.pause();
          musicOn = false;
        }
        updateMusicLabel();
      } catch(e){
        alert('Please interact with the page and ensure an audio source is set.');
      }
    });
    updateMusicLabel();

    // Carousel
    const track = document.getElementById('track');
    const slides = Array.from(track.children);
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    const dotsWrap = document.getElementById('dots');

    let current = 0;
    slides.forEach((_,i) => {
      const d = document.createElement('div');
      d.className = 'dot' + (i===0?' active':'');
      d.dataset.index = i;
      dotsWrap.appendChild(d);
    });
    const dots = Array.from(dotsWrap.children);

    function goTo(i){
      current = (i + slides.length) % slides.length;
      track.style.transform = `translateX(-${current*100}%)`;
      dots.forEach((d,idx) => d.classList.toggle('active', idx === current));
    }
    prev.addEventListener('click', ()=> goTo(current-1));
    next.addEventListener('click', ()=> goTo(current+1));
    dots.forEach(d => d.addEventListener('click', ()=> goTo(+d.dataset.index)));

    let autoTimer = setInterval(()=> goTo(current+1), 4000);
    [prev,next,dotsWrap,track].forEach(el => {
      el.addEventListener('mouseenter', ()=> clearInterval(autoTimer));
      el.addEventListener('mouseleave', ()=> autoTimer = setInterval(()=> goTo(current+1), 4000));
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'ArrowLeft') goTo(current-1);
      if(e.key === 'ArrowRight') goTo(current+1);
    });

    // Click anywhere for confetti
    window.addEventListener('click', (e)=>{
      if(e.target.closest('.button') || e.target.closest('.nav') || e.target.closest('.dot')) return;
      burstConfetti(e.clientX, e.clientY, 80);
    });
  </script>
</body>
</html>
